(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{"0kTQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("k49u"),r=n("3XMw");const c=n.n(r).a.b20a3893,s={[a.a.TargetUserNotFound]:{toast:{text:c}},showToast:!0}},"55jz":function(e,t,n){"use strict";n("kYxP");var a=n("KEM+"),r=n.n(a),c=n("ERkP"),s=n("rHpw"),o=n("MWbm");const i=()=>c.createElement(o.a,{style:l.divider}),l=s.a.create(e=>({divider:{backgroundColor:e.colors.borderColor,height:e.borderWidths.small}}));var d=n("3XMw"),u=n.n(d),h=n("IMYl"),m=n("Irs7"),p=n("CKsB"),g=n("IMA+"),w=n("Znyr"),_=n("G1WX");const b=u.a.d86bbf0f,E=u.a.h6beb5fa,C=u.a.b7dc3884;class A extends c.Component{constructor(...e){super(...e),r()(this,"_render",()=>c.createElement(o.a,{style:x.menuContainer},this._renderUserAccounts(),this._renderAdditionalMenuItems())),r()(this,"_renderAdditionalMenuItems",()=>{const e=this.props.additionalMenuItems||[];return e.map((t,n)=>c.createElement(c.Fragment,{key:t.scribeElement},c.createElement(p.a,{actionText:t.actionText,link:t.link,onClick:this._handleMenuItemOnClick(t.scribeElement),testID:t.testID}),n!==e.length-1?c.createElement(i,null):null))}),r()(this,"_renderUserAccounts",()=>{const{accountUsers:e,loggedInUser:t,withBadges:n=!1}=this.props;return e.length>1?c.createElement(c.Fragment,null,e.map(e=>{const a=e.user_id===t.id_str,r=e.badgeCount;return c.createElement(g.a,{accessibilityLabel:a?void 0:C({screenName:e.screen_name}),avatarUri:e.avatar_image_url,decoration:this._renderUserDecoration({badgeCount:r,withBadges:n,isActiveUser:a}),displayMode:"UserCompact",isProtected:e.is_protected,isVerified:e.is_verified,key:e.user_id,name:e.name,onCellClick:a?void 0:this._handleMultiAccountSwitch({hasBadge:!!r,isProtected:e.is_protected,userId:e.user_id}),screenName:e.screen_name,userId:e.user_id,withBottomBorder:!0,withLink:!1})})):c.createElement(g.a,{avatarUri:t.profile_image_url_https,decoration:this._renderUserDecoration({withBadges:n,isActiveUser:!0}),displayMode:"UserCompact",isProtected:t.protected,isVerified:t.verified,name:t.name,screenName:t.screen_name,userId:t.id_str,withBottomBorder:!0,withLink:!1})}),r()(this,"_renderUserDecoration",({badgeCount:e,withBadges:t,isActiveUser:n})=>n?c.createElement(h.a,{style:[x.iconCheckMark,x.userDecoration]}):e&&t?c.createElement(w.a,{count:e,standalone:!0,style:x.userDecoration,truncatedCountFormatter:E,unreadCountLabel:b}):void 0),r()(this,"_handleMultiAccountSwitch",({hasBadge:e,isProtected:t,userId:n})=>()=>this.props.accountSwitch({hasBadge:e,isProtected:t,userId:n})),r()(this,"_handleFetch",()=>{const{createLocalApiErrorHandlerAccountsFetch:e,fetchAccounts:t}=this.props;t().catch(e())}),r()(this,"_handleMenuItemClick",e=>()=>{const{analytics:t,onClose:n}=this.props;t.scribe({element:e,action:"click"}),n&&n()}),r()(this,"_handleMenuItemOnClick",e=>this._handleMenuItemClick(e))}render(){const{fetchStatus:e,shouldDisplayFetchRenderer:t}=this.props;return t?c.createElement(_.a,{fetchStatus:e,onRequestRetry:this._handleFetch,render:this._render}):this._render()}}const x=s.a.create(e=>({iconCheckMark:{color:e.colors.primary,flexShrink:0},divider:{backgroundColor:e.colors.borderColor,height:e.borderWidths.small},menuContainer:{paddingVertical:e.spaces.xSmall},userDecoration:{marginLeft:e.spaces.xSmall}}));t.a=Object(m.a)(A)},LzTg:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var a=n("KEM+"),r=n.n(a),c=n("ERkP"),s=(n("kYxP"),n("rxPX")),o=n("0KEI"),i=n("kGix"),l=n("G6rE"),d=n("auX9");var u=Object(s.a)().propsFromState(()=>({fetchStatus:d.g,loggedInUser:l.e.selectLoggedInUser,multiAccountUsers:d.j,hasMultiAccountBadges:d.h})).propsFromActions(()=>({createLocalApiErrorHandlerAccountSwitch:Object(o.d)("ACCOUNT_SWITCHER_ACCOUNT_SWITCH"),createLocalApiErrorHandlerMultiListFetch:Object(o.d)("ACCOUNT_SWITCHER_MULTI_LIST_FETCH"),fetchMultiAccountList:d.c,switchAccount:d.l})).adjustStateProps(({fetchStatus:e,loggedInUser:t,multiAccountUsers:n,hasMultiAccountBadges:a})=>({fetchStatus:e===i.a.NONE?i.a.LOADING:e,hasMultiAccountBadges:!!t&&a,loggedInUser:t,multiAccountUsers:n})).withAnalytics({page:"nav",section:"account_switcher"}),h=n("3Wr5"),m=n("55jz"),p=n("0kTQ"),g="SideNav_AccountSwitcher_Button",w="AccountSwitcher_AddAccount_Button",_="AccountSwitcher_Logout_Button",b="AccountSwitcher_ManageAccounts_Button",E=n("yrzJ"),C=n("y8wG"),A=n("3XMw"),x=n.n(A);const I=x.a.j0a8da6e,S=x.a.c6f2bf00;class f extends c.Component{constructor(...e){super(...e),r()(this,"_renderMenuSheet",e=>{const{createLocalApiErrorHandlerMultiListFetch:t,fetchMultiAccountList:n,fetchStatus:a,loggedInUser:r,multiAccountUsers:s}=this.props;return r?c.createElement(m.a,{accountSwitch:this._multiAccountSwitch,accountUsers:s,additionalMenuItems:this._getAdditionalAccountMenuItems(),createLocalApiErrorHandlerAccountsFetch:t,fetchAccounts:n,fetchStatus:a,loggedInUser:r,onClose:e,shouldDisplayFetchRenderer:this._hasMultiAccountCookie(),withBadges:!0}):null}),r()(this,"_multiAccountSwitch",({hasBadge:e,isProtected:t,userId:n})=>{const{analytics:a,createLocalApiErrorHandlerAccountSwitch:r,switchAccount:c}=this.props;a.scribe({component:t?"switch_to_protected_account":"switch_account",element:e?"account_badged":"account",action:"click"}),c({user_id:n}).catch(r(p.a))}),r()(this,"_getAdditionalAccountMenuItems",()=>{const{loggedInUser:e,multiAccountUsers:t}=this.props,n=t.length>1,a=[];var r;return t.length>=5||a.push({actionText:I,link:"/account/add",scribeElement:"add_existing_account",testID:w}),n&&a.push({actionText:S,link:"/account/switch",scribeElement:"manage_accounts",testID:b}),e&&a.push({actionText:(r=e.screen_name,c.createElement(x.a.I18NFormatMessage,{$i18n:"i9bec47a"},c.createElement(E.a,{color:"normal",screenName:r}))),link:"/logout",scribeElement:"log_out",testID:_}),a}),r()(this,"_handleAccountSwitcherClick",()=>{const{analytics:e}=this.props;e.scribe({action:"click"})}),r()(this,"_hasMultiAccountCookie",()=>{const{hasMultiAccountCookie:e}=Object(h.a)();return e})}render(){const{analytics:e,hasMultiAccountBadges:t,isExpanded:n,loggedInUser:a}=this.props;return c.createElement(C.a,{analytics:e,currentUser:a,hasMultiAccountBadges:t,interactiveViewTestId:g,isExpanded:n,renderMenuSheet:this._renderMenuSheet})}}var y=u(f),M=n("1eTX"),k=n("jwTb"),B=n("Irs7"),T=n("/yvb"),v=n("zfvc"),U=n("t62R"),L=n("rHpw");const P=x.a.bea869b3;class N extends c.Component{constructor(...e){super(...e),r()(this,"_handlePress",e=>{const{analytics:t}=this.props;t.scribe({component:"new_tweet_button",action:"click"})})}render(){const{composeOptions:e,withLabel:t,withIcon:n,testID:a}=this.props;return c.createElement(T.a,{accessibilityLabel:P,hoverLabel:{label:P},icon:n?c.createElement(k.a,null):void 0,link:{pathname:"/compose/tweet",state:e},onPress:this._handlePress,size:"normalLarge",style:H.button,testID:a,type:"primary"},t?c.createElement(v.b,{animateMount:!0,duration:"long",show:!0,type:"fade"},c.createElement(U.c,null,P)):null)}}const H=L.a.create(e=>({button:{boxShadow:"0px 8px 28px rgba(0, 0, 0, 0.08)"}}));var F=Object(B.a)(N),D=n("N5qz"),O="SideNav_NewTweet_Button",R=n("MWbm"),j=n("cHvH");class z extends c.Component{render(){const{TabBar:e,history:t,isCollapsedSmall:n,isExpanded:a,isLoggedIn:r,isTwoColumn:s,logoButton:o,location:i,onTabRefresh:l,TeamsSwitcher:d,widthStyle:u,withTweetButton:h}=this.props,m=[W.root,u,n?W.rootPaddingSmall:W.rootPaddingNormal],p=o||c.createElement(M.a,{onClick:l,pullLeft:!1,size:"large"});return c.createElement(j.a,null,({windowHeight:n})=>c.createElement(R.a,{style:m},c.createElement(R.a,{style:[W.topSection,!a&&W.alignItemsCenter]},c.createElement(R.a,{style:W.topControl},p),c.createElement(R.a,{style:[W.appTabBar,!a&&W.alignItemsCenter]},c.createElement(e,{history:t,layout:"vertical",location:i,onTabRefresh:l,wideMode:s,withExtendedItems:!0,withLabel:a})),r&&h?this._renderNewTweetButton(n):null),r?c.createElement(R.a,{style:[W.footerContainer,!a&&W.alignItemsCenter]},c.createElement(y,{isExpanded:a}),d?c.createElement(d,{isExpanded:a}):null):null))}_renderNewTweetButton(e){const{composeOptions:t,isExpanded:n}=this.props;return c.createElement(R.a,{style:[W.tweetButton,!n&&W.alignItemsCenter,"tall"===D.a.getHeightMode(e)&&W.withTallHeight]},c.createElement(F,{composeOptions:t,testID:O,withIcon:!n,withLabel:n}))}}r()(z,"defaultProps",{withTweetButton:!0});const W=L.a.create(e=>({root:{height:"100%",overflowY:"auto",justifyContent:"space-between"},rootPaddingNormal:{paddingHorizontal:e.spaces.xSmall},rootPaddingSmall:{paddingHorizontal:e.spaces.xxSmall},topSection:{alignItems:"flex-start"},topControl:{paddingVertical:e.spaces.micro,maxWidth:"100%"},appTabBar:{marginBottom:e.spaces.xxSmall,marginTop:e.spaces.micro,width:"100%"},tweetButton:{marginVertical:e.spaces.xxSmall,width:"90%"},withTallHeight:{marginVertical:e.spaces.small},alignItemsCenter:{alignItems:"center"},settingsButton:{marginBottom:e.spaces.medium,marginHorizontal:e.spaces.xxSmall},footerContainer:{marginVertical:e.spaces.xSmall}}))},y8wG:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n("kYxP");var a=n("KEM+"),r=n.n(a),c=n("ERkP"),s=n("ZUOq"),o=n("3XMw"),i=n.n(o),l=n("aWzz"),d=n("MWbm"),u=n("Znyr"),h=n("OiMc"),m=n("cm6r"),p=n("XP29"),g=n("jV+4"),w=n("rHpw"),_=n("FRoe"),b=n("FG+G");const E=i.a.d86bbf0f,C=i.a.h6beb5fa,A=i.a.b8e1d524;class x extends c.Component{constructor(...e){super(...e),r()(this,"_renderBadge",()=>{const{isExpanded:e,hasMultiAccountBadges:t}=this.props;return t?c.createElement(u.a,{pip:!0,style:e&&I.pip,truncatedCountFormatter:C,unreadCountLabel:E}):null}),r()(this,"_handleAccountSwitcherClick",()=>{const{analytics:e}=this.props;e.scribe({action:"click"})})}render(){const{isExpanded:e,currentUser:t,interactiveViewTestId:n,renderMenuSheet:a}=this.props;if(!t)return null;const{name:r,screen_name:s,profile_image_url_https:o,protected:i,verified:l}=t;return c.createElement(h.a,{contentStyle:I.menuContainer,enableEnterKeyToggle:!0,renderContent:a,withArrow:!0,withFixedPosition:!0},c.createElement(m.a,{accessibilityRole:"button",hoverLabel:e?void 0:{label:A},onClick:this._handleAccountSwitcherClick,style:I.anchorContainer,testID:n},c.createElement(d.a,null,c.createElement(p.a,{accessibilityLabel:r,screenName:s,size:"xLarge",uri:o}),e?null:this._renderBadge()),e?c.createElement(c.Fragment,null,c.createElement(g.a,{isProtected:i,isVerified:l,name:r,screenName:s,style:I.userName,withStackedLayout:!0}),c.createElement(d.a,{style:I.iconContainer},this.context.featureSwitches.isTrue("topics_new_social_context_enabled")?c.createElement(_.a,{style:I.icon}):c.createElement(b.a,{style:I.icon}),e?this._renderBadge():null)):null))}}r()(x,"contextTypes",{featureSwitches:l.object});const I=w.a.create(e=>({anchorContainer:{alignItems:"center",borderRadius:e.borderRadii.infinite,display:"flex",flexDirection:"row",padding:e.spaces.xSmall},icon:{color:e.colors.text},iconContainer:{alignItems:"flex-end",flexGrow:1},pip:{position:"absolute",right:`calc(-1 * ${e.spaces.xxSmall})`,top:`calc(-1 * ${e.spaces.xxSmall})`},userName:{flexGrow:1,marginHorizontal:e.spaces.xSmall},menuContainer:{width:s.a.cardWidth.normal}}))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.SideNav.911fe7c5.js.map